var u=Object.defineProperty;var f=(r,a,t)=>a in r?u(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t;var h=(r,a,t)=>f(r,typeof a!="symbol"?a+"":a,t);import{C as p,f as o,B as m,g,G as w,c as C,b as F}from"./createFullscreenPixiApp-rF57vCoV.js";import"./index-BlVSwR5G.js";const i={initialCanvasWidth:960,initialCanvasHeight:800,particleCount:10,speed:23,particleSpeed:1.2,campfireWidth:50,fireHeight:100,verticalFadeOutMultiplier:.002,horizontalFadeOutMultiplier:1e-4,minParticleSize:5,maxParticleSize:10};class M extends p{constructor(){super();h(this,"particles",[]);this.pivot.set(i.campfireWidth/2),this.generateParticles(),this.createGlow()}generateParticles(){this.removeChildren();for(let t=0;t<i.particleCount;t++){const l=Math.random()*(i.maxParticleSize-i.minParticleSize)+i.minParticleSize,e=new o;e.beginFill(16737792,.5+Math.random()*.5),e.drawCircle(0,0,l),e.endFill(),e.x=Math.random()*i.campfireWidth,e.y=Math.random()*i.fireHeight,e.blendMode=m.ADD,e.alpha=0,this.particles.push(e),this.addChild(e)}}createGlow(){const t=new o,l=i.campfireWidth*1.1,e=i.campfireWidth*.28;t.beginFill(16744550,.1),t.drawEllipse(0,0,l,e),t.endFill();const n=new o;n.beginFill(16761600,.1),n.drawEllipse(0,0,l*1.2,e*1.2),n.endFill();const d=new g.BlurFilter;d.blur=12,t.filters=[d],n.filters=[d];const s=new p,c=i.fireHeight+e/2+10;t.y=c,n.y=c,t.x=i.campfireWidth/2,n.x=i.campfireWidth/2,s.addChild(n),s.addChild(t),this.addChildAt(s,0)}updateParticles(t){const l=t*i.speed;for(const e of this.particles)e.position.y-=Math.random()*.5*i.particleSpeed*l,e.alpha-=i.verticalFadeOutMultiplier*i.particleSpeed*l,e.alpha-=i.horizontalFadeOutMultiplier*l*Math.abs(e.x-i.campfireWidth/2),e.position.y<=0&&(e.position.y=i.fireHeight,e.alpha=1,e.position.x=Math.random()*i.campfireWidth)}}const x=new w;async function P(){const{app:r}=C({width:i.initialCanvasWidth,height:i.initialCanvasHeight,globalTweenGroup:x}),a=new M;r.stage.addChild(a),a.x=r.renderer.width/2,a.y=r.renderer.height/2;function t(){a.x=r.renderer.width/2,a.y=r.renderer.height/2}window.addEventListener("resize",t),t();const l=F();return r.ticker.add(e=>{var n;a.updateParticles(e),(n=l==null?void 0:l.update)==null||n.call(l)}),r}export{x as globalTweenGroup,P as init};
