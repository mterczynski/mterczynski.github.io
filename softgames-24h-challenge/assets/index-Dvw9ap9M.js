import{C as s,f as c,B as h,G as p,c as o,b as l}from"./createFullscreenPixiApp-YUXMzY5c.js";import"./index-BkC98qPo.js";const i={initialCanvasWidth:960,initialCanvasHeight:800,particleCount:10,speed:23,particleSpeed:1.2,campfireWidth:50,fireHeight:100,minParticleSize:5,maxParticleSize:10};class m extends s{constructor(){super(),this.pivot.set(i.campfireWidth/2),this.generateParticles()}generateParticles(){this.removeChildren();for(let t=0;t<i.particleCount;t++){const r=Math.random()*(i.maxParticleSize-i.minParticleSize)+i.minParticleSize,e=new c;e.beginFill(16737792,.5+Math.random()*.5),e.drawCircle(0,0,r),e.endFill(),e.x=Math.random()*i.campfireWidth,e.y=Math.random()*i.fireHeight,e.blendMode=h.ADD,e.alpha=0,this.addChild(e)}}updateParticles(t){const r=t*i.speed;for(const e of this.children)e.position.y-=Math.random()*.5*i.particleSpeed*r,e.alpha-=1e-4*i.particleSpeed*Math.abs(e.x-i.campfireWidth/2)*r,e.alpha-=1e-4*r*Math.abs(e.x-i.campfireWidth/2),e.position.y<=0&&(e.position.y=i.fireHeight,e.alpha=1,e.position.x=Math.random()*i.campfireWidth)}}const f=new p;async function C(){const{app:a}=o({width:i.initialCanvasWidth,height:i.initialCanvasHeight,tweenGroup:f}),t=new m;a.stage.addChild(t),t.x=a.renderer.width/2,t.y=a.renderer.height/2;function r(){t.x=a.renderer.width/2,t.y=a.renderer.height/2}window.addEventListener("resize",r),r();const e=l();return a.ticker.add(d=>{var n;t.updateParticles(d),(n=e==null?void 0:e.update)==null||n.call(e)}),a}export{C as init,f as tweenGroup};
