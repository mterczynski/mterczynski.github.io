import{C as d,f as o,B as p,G as s,c,b as h}from"./createFullscreenPixiApp-kjCubUKq.js";import"./index-6Afjg66D.js";const i={initialCanvasWidth:960,initialCanvasHeight:800,particleCount:10,speed:23,particleSpeed:1.2,campfireWidth:50,fireHeight:100,verticalFadeOutMultiplier:.002,horizontalFadeOutMultiplier:1e-4,minParticleSize:5,maxParticleSize:10};class m extends d{constructor(){super(),this.pivot.set(i.campfireWidth/2),this.generateParticles()}generateParticles(){this.removeChildren();for(let t=0;t<i.particleCount;t++){const r=Math.random()*(i.maxParticleSize-i.minParticleSize)+i.minParticleSize,e=new o;e.beginFill(16737792,.5+Math.random()*.5),e.drawCircle(0,0,r),e.endFill(),e.x=Math.random()*i.campfireWidth,e.y=Math.random()*i.fireHeight,e.blendMode=p.ADD,e.alpha=0,this.addChild(e)}}updateParticles(t){const r=t*i.speed;for(const e of this.children)e.position.y-=Math.random()*.5*i.particleSpeed*r,e.alpha-=i.verticalFadeOutMultiplier*i.particleSpeed*r,e.alpha-=i.horizontalFadeOutMultiplier*r*Math.abs(e.x-i.campfireWidth/2),e.position.y<=0&&(e.position.y=i.fireHeight,e.alpha=1,e.position.x=Math.random()*i.campfireWidth)}}const u=new s;async function C(){const{app:a}=c({width:i.initialCanvasWidth,height:i.initialCanvasHeight,globalTweenGroup:u}),t=new m;a.stage.addChild(t),t.x=a.renderer.width/2,t.y=a.renderer.height/2;function r(){t.x=a.renderer.width/2,t.y=a.renderer.height/2}window.addEventListener("resize",r),r();const e=h();return a.ticker.add(l=>{var n;t.updateParticles(l),(n=e==null?void 0:e.update)==null||n.call(e)}),a}export{u as globalTweenGroup,C as init};
